{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.221.0"},"children":{"AWSDevOpsProjectStack":{"id":"AWSDevOpsProjectStack","path":"AWSDevOpsProjectStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.221.0"},"children":{"ExistingVPC":{"id":"ExistingVPC","path":"AWSDevOpsProjectStack/ExistingVPC","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]},"children":{"PublicSubnet1":{"id":"PublicSubnet1","path":"AWSDevOpsProjectStack/ExistingVPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"AWSDevOpsProjectStack/ExistingVPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"AWSDevOpsProjectStack/ExistingVPC/PrivateSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"AWSDevOpsProjectStack/ExistingVPC/PrivateSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}}}},"ALBSG":{"id":"ALBSG","path":"AWSDevOpsProjectStack/ALBSG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/ALBSG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AWSDevOpsProjectStack/ALBSG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"Allow HTTPS"}],"vpcId":"vpc-0ec3eaf5e3b714e89"}}}}},"EC2SG":{"id":"EC2SG","path":"AWSDevOpsProjectStack/EC2SG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/EC2SG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AWSDevOpsProjectStack/EC2SG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":"vpc-0ec3eaf5e3b714e89"}}},"from AWSDevOpsProjectStackALBSGF43CA45C:80":{"id":"from AWSDevOpsProjectStackALBSGF43CA45C:80","path":"AWSDevOpsProjectStack/EC2SG/from AWSDevOpsProjectStackALBSGF43CA45C:80","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow from ALB","fromPort":80,"groupId":{"Fn::GetAtt":["EC2SG244E8056","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ALBSGB173E466","GroupId"]},"toPort":80}}},"from AWSDevOpsProjectStackALBSGF43CA45C:443":{"id":"from AWSDevOpsProjectStackALBSGF43CA45C:443","path":"AWSDevOpsProjectStack/EC2SG/from AWSDevOpsProjectStackALBSGF43CA45C:443","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow from ALB","fromPort":443,"groupId":{"Fn::GetAtt":["EC2SG244E8056","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ALBSGB173E466","GroupId"]},"toPort":443}}}}},"DBSG":{"id":"DBSG","path":"AWSDevOpsProjectStack/DBSG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/DBSG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"AWSDevOpsProjectStack/DBSG","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":"vpc-0ec3eaf5e3b714e89"}}},"from AWSDevOpsProjectStackEC2SG8C272095:5432":{"id":"from AWSDevOpsProjectStackEC2SG8C272095:5432","path":"AWSDevOpsProjectStack/DBSG/from AWSDevOpsProjectStackEC2SG8C272095:5432","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow PostgreSQL from EC2","fromPort":5432,"groupId":{"Fn::GetAtt":["DBSG9487F3EF","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["EC2SG244E8056","GroupId"]},"toPort":5432}}}}},"DBSecret":{"id":"DBSecret","path":"AWSDevOpsProjectStack/DBSecret","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/DBSecret/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"generateSecretString":{"secretStringTemplate":"{\"username\":\"dbadmin\"}","excludeCharacters":"/@\" ","generateStringKey":"password"}}}},"Attachment":{"id":"Attachment","path":"AWSDevOpsProjectStack/DBSecret/Attachment","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.SecretTargetAttachment","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/DBSecret/Attachment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecretTargetAttachment","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::SecretTargetAttachment","aws:cdk:cloudformation:props":{"secretId":{"Ref":"DBSecretD58955BC"},"targetId":{"Ref":"PostgresRDS47892308"},"targetType":"AWS::RDS::DBInstance"}}}}}}},"PostgresRDS":{"id":"PostgresRDS","path":"AWSDevOpsProjectStack/PostgresRDS","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstance","version":"2.221.0","metadata":[]},"children":{"SubnetGroup":{"id":"SubnetGroup","path":"AWSDevOpsProjectStack/PostgresRDS/SubnetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.221.0","metadata":[]},"children":{"Default":{"id":"Default","path":"AWSDevOpsProjectStack/PostgresRDS/SubnetGroup/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Subnet group for PostgresRDS database","subnetIds":["subnet-06f2aaf01e87f3a08","subnet-0a4e64872d8211fef"]}}}}},"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/PostgresRDS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBInstance","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBInstance","aws:cdk:cloudformation:props":{"allocatedStorage":"20","copyTagsToSnapshot":true,"dbInstanceClass":"db.t3.micro","dbSubnetGroupName":{"Ref":"PostgresRDSSubnetGroupA0E6AA8D"},"deletionProtection":false,"engine":"postgres","engineVersion":"15","masterUsername":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DBSecretD58955BC"},":SecretString:username::}}"]]},"masterUserPassword":{"Fn::Join":["",["{{resolve:secretsmanager:",{"Ref":"DBSecretD58955BC"},":SecretString:password::}}"]]},"multiAz":false,"publiclyAccessible":false,"storageType":"gp2","vpcSecurityGroups":[{"Fn::GetAtt":["DBSG9487F3EF","GroupId"]}]}}}}},"EC2LaunchTemplate":{"id":"EC2LaunchTemplate","path":"AWSDevOpsProjectStack/EC2LaunchTemplate","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.LaunchTemplate","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/EC2LaunchTemplate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnLaunchTemplate","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::LaunchTemplate","aws:cdk:cloudformation:props":{"launchTemplateData":{"imageId":{"Ref":"SsmParameterValueawsserviceamiamazonlinuxlatestal2023amikernel61x8664C96584B6F00A464EAD1953AFF4B05118Parameter"},"instanceType":"t3.micro","securityGroupIds":[{"Fn::GetAtt":["EC2SG244E8056","GroupId"]}],"tagSpecifications":[{"resourceType":"instance","tags":[{"key":"Name","value":"AWSDevOpsProjectStack/EC2LaunchTemplate"}]},{"resourceType":"volume","tags":[{"key":"Name","value":"AWSDevOpsProjectStack/EC2LaunchTemplate"}]}]},"tagSpecifications":[{"resourceType":"launch-template","tags":[{"key":"Name","value":"AWSDevOpsProjectStack/EC2LaunchTemplate"}]}]}}}}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","path":"AWSDevOpsProjectStack/SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118","path":"AWSDevOpsProjectStack/SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.221.0","metadata":[]}},"ASG":{"id":"ASG","path":"AWSDevOpsProjectStack/ASG","constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.AutoScalingGroup","version":"2.221.0","metadata":[]},"children":{"ASG":{"id":"ASG","path":"AWSDevOpsProjectStack/ASG/ASG","constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.CfnAutoScalingGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AutoScaling::AutoScalingGroup","aws:cdk:cloudformation:props":{"desiredCapacity":"2","launchTemplate":{"launchTemplateId":{"Ref":"EC2LaunchTemplate1203533F"},"version":{"Fn::GetAtt":["EC2LaunchTemplate1203533F","LatestVersionNumber"]}},"maxSize":"4","minSize":"1","targetGroupArns":[{"Ref":"ALBListenerTargetGroupD5D64FBA"}],"vpcZoneIdentifier":["subnet-06f2aaf01e87f3a08","subnet-0a4e64872d8211fef"]}}}}},"ALB":{"id":"ALB","path":"AWSDevOpsProjectStack/ALB","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/ALB/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["ALBSGB173E466","GroupId"]}],"subnets":["subnet-0d4cc4dcd1ae2b192","subnet-0178d17f54c2e55e9"],"type":"application"}}},"Listener":{"id":"Listener","path":"AWSDevOpsProjectStack/ALB/Listener","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.221.0","metadata":[]},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/ALB/Listener/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"ALBListenerTargetGroupD5D64FBA"}}],"loadBalancerArn":{"Ref":"ALBAEE750D2"},"port":80,"protocol":"HTTP"}}},"TargetGroup":{"id":"TargetGroup","path":"AWSDevOpsProjectStack/ALB/Listener/TargetGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.221.0"},"children":{"Resource":{"id":"Resource","path":"AWSDevOpsProjectStack/ALB/Listener/TargetGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.221.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"port":80,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"instance","vpcId":"vpc-0ec3eaf5e3b714e89"}}}}}}}}},"DBSecretArn":{"id":"DBSecretArn","path":"AWSDevOpsProjectStack/DBSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"DBEndpoint":{"id":"DBEndpoint","path":"AWSDevOpsProjectStack/DBEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"ALBEndpoint":{"id":"ALBEndpoint","path":"AWSDevOpsProjectStack/ALBEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.221.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AWSDevOpsProjectStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AWSDevOpsProjectStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.221.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AWSDevOpsProjectStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.221.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AWSDevOpsProjectStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.221.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}